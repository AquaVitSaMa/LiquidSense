package me.aquavit.liquidsense.modules.exploit;

import net.ccbluex.liquidbounce.features.module.Module;
import net.ccbluex.liquidbounce.features.module.ModuleCategory;
import net.ccbluex.liquidbounce.features.module.ModuleInfo;
import me.aquavit.liquidsense.value.IntegerValue;
import me.aquavit.liquidsense.value.ListValue;
import net.minecraft.network.play.client.C03PacketPlayer;

@ModuleInfo(name = "Damage", description = "Deals damage to yourself.", category = ModuleCategory.EXPLOIT, canEnable = false)
public class Damage extends Module {

    private ListValue modeValue = new ListValue("Mode", new String[] {"NCP", "AAC"}, "NCP");
    private IntegerValue damageValue = new IntegerValue("Damage", 1, 1, 20);

    @Override
    public void onEnable() {
        switch (modeValue.get()){
            case "AAC":
                mc.thePlayer.motionY = 5 * damageValue.get();
                break;
            case "NCP": {
                double x = mc.thePlayer.posX;
                double y = mc.thePlayer.posY;
                double z = mc.thePlayer.posZ;

                for (int i=0; i<=65 * damageValue.get();i++){
                    mc.getNetHandler().addToSendQueue(new C03PacketPlayer.C04PacketPlayerPosition(x, y + 0.049, z, false));
                    mc.getNetHandler().addToSendQueue(new C03PacketPlayer.C04PacketPlayerPosition(x, y, z, false));
                }
                mc.getNetHandler().addToSendQueue(new C03PacketPlayer.C04PacketPlayerPosition(x, y, z, true));
                break;
            }
        }
    }
}
